<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kash - Transaction History</title>
  <link rel="stylesheet" href="../shared/design-system.css">
  <link rel="stylesheet" href="../shared/navigation.css">
  <style>
    body {
      min-height: 100vh;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Header/Navigation */
    .app-header {
      background-color: var(--white);
      border-bottom: 2px solid var(--parent-border);
      padding: var(--space-4) 0;
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      z-index: var(--z-sticky);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    /* Main Content */
    .app-main {
      flex: 1;
      padding: var(--space-8) 0;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 var(--space-4);
    }

    /* Child Tabs */
    .child-tabs {
      display: flex;
      gap: var(--space-3);
      margin-bottom: var(--space-6);
      overflow-x: auto;
      padding: var(--space-2) 0;
    }

    .child-tab {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-3) var(--space-5);
      background-color: var(--white);
      border: 2px solid var(--parent-border);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--transition-base);
      white-space: nowrap;
      flex-shrink: 0;
    }

    .child-tab:hover {
      border-color: var(--parent-primary);
      box-shadow: var(--shadow-md);
    }

    .child-tab.active {
      border-color: var(--parent-primary);
      background-color: var(--parent-primary-light);
      font-weight: var(--font-bold);
      box-shadow: var(--shadow-md);
    }

    .child-tab-avatar {
      font-size: var(--text-2xl);
    }

    .child-tab-name {
      font-size: var(--text-base);
    }

    /* Child Header */
    .child-header {
      background-color: var(--white);
      border-radius: var(--radius-xl);
      padding: var(--space-6);
      box-shadow: var(--shadow-md);
      margin-bottom: var(--space-6);
      display: flex;
      align-items: center;
      gap: var(--space-6);
    }

    .child-header-avatar {
      width: 96px;
      height: 96px;
      border-radius: var(--radius-full);
      background: linear-gradient(135deg, var(--parent-primary-light) 0%, var(--parent-primary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-5xl);
      border: 4px solid var(--white);
      box-shadow: var(--shadow-lg);
    }

    .child-header-info {
      flex: 1;
    }

    .child-header-name {
      font-size: var(--text-3xl);
      font-weight: var(--font-bold);
      margin-bottom: var(--space-2);
    }

    .child-header-balance {
      font-size: var(--text-2xl);
      color: var(--parent-success);
      font-weight: var(--font-bold);
    }

    .child-header-label {
      font-size: var(--text-sm);
      color: var(--parent-text-secondary);
      margin-bottom: var(--space-1);
    }

    .child-header-actions {
      display: flex;
      gap: var(--space-3);
    }

    /* Filters */
    .filters {
      background-color: var(--white);
      border-radius: var(--radius-lg);
      padding: var(--space-4);
      margin-bottom: var(--space-6);
      display: flex;
      gap: var(--space-4);
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-group {
      flex: 1;
      min-width: 200px;
    }

    /* Transaction List */
    .transaction-list {
      background-color: var(--white);
      border-radius: var(--radius-xl);
      padding: var(--space-6);
      box-shadow: var(--shadow-md);
    }

    .transaction-list-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-6);
      padding-bottom: var(--space-4);
      border-bottom: 2px solid var(--parent-border);
    }

    .transaction-list-title {
      font-size: var(--text-xl);
      font-weight: var(--font-semibold);
    }

    .transaction-count {
      color: var(--parent-text-secondary);
      font-size: var(--text-sm);
    }

    .transaction-item {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4);
      border-radius: var(--radius-lg);
      margin-bottom: var(--space-3);
      transition: all var(--transition-base);
      cursor: pointer;
    }

    .transaction-item:hover {
      background-color: var(--parent-bg-secondary);
    }

    .transaction-icon {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-2xl);
    }

    .transaction-icon.deposit {
      background-color: var(--parent-success-light);
    }

    .transaction-icon.deduction {
      background-color: var(--parent-danger-light);
    }

    .transaction-details {
      flex: 1;
    }

    .transaction-reason {
      font-weight: var(--font-medium);
      margin-bottom: var(--space-1);
    }

    .transaction-meta {
      font-size: var(--text-sm);
      color: var(--parent-text-secondary);
    }

    .transaction-amount {
      text-align: right;
    }

    .transaction-amount-value {
      font-size: var(--text-xl);
      font-weight: var(--font-bold);
      margin-bottom: var(--space-1);
    }

    .transaction-amount-value.deposit {
      color: var(--parent-success);
    }

    .transaction-amount-value.deduction {
      color: var(--parent-danger);
    }

    .transaction-balance {
      font-size: var(--text-sm);
      color: var(--parent-text-secondary);
    }

    /* Pagination */
    .pagination {
      margin-top: var(--space-6);
      display: flex;
      justify-content: center;
      gap: var(--space-2);
    }

    .pagination-button {
      padding: var(--space-2) var(--space-4);
      border-radius: var(--radius-md);
      border: 2px solid var(--parent-border);
      background-color: var(--white);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .pagination-button:hover {
      background-color: var(--parent-primary);
      color: var(--white);
      border-color: var(--parent-primary);
    }

    .pagination-button.active {
      background-color: var(--parent-primary);
      color: var(--white);
      border-color: var(--parent-primary);
    }

    .pagination-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (max-width: 768px) {
      .child-header {
        flex-direction: column;
        text-align: center;
      }

      .child-header-actions {
        width: 100%;
        flex-direction: column;
      }

      .child-header-actions .btn {
        width: 100%;
      }

      .filters {
        flex-direction: column;
      }

      .filter-group {
        width: 100%;
      }

      .transaction-item {
        flex-wrap: wrap;
      }

      .transaction-amount {
        width: 100%;
        text-align: left;
        margin-top: var(--space-2);
      }
    }
  </style>
</head>
<body class="parent-theme">
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav" id="sidebar">
      <div class="sidebar-header">
        <span class="sidebar-logo-icon">üíµ</span>
        <h1 class="sidebar-app-title">Kash</h1>
      </div>

      <div class="sidebar-menu">
        <a href="03-parent-dashboard.html" class="sidebar-menu-item">
          <span class="sidebar-menu-icon">üè†</span>
          <span class="sidebar-menu-label">Dashboard</span>
        </a>
        <a href="04-add-child.html" class="sidebar-menu-item">
          <span class="sidebar-menu-icon">‚ûï</span>
          <span class="sidebar-menu-label">Add Child</span>
        </a>
        <a href="06-transaction-history.html" class="sidebar-menu-item active">
          <span class="sidebar-menu-icon">üí≥</span>
          <span class="sidebar-menu-label">Transactions</span>
        </a>
        <a href="06-pending-requests.html" class="sidebar-menu-item">
          <span class="sidebar-menu-icon">üìã</span>
          <span class="sidebar-menu-label">Pending Requests</span>
        </a>
        <a href="08-manage-invitations.html" class="sidebar-menu-item">
          <span class="sidebar-menu-icon">üë•</span>
          <span class="sidebar-menu-label">Invite Co-Parent</span>
        </a>
      </div>

      <div class="sidebar-footer">
        <div class="sidebar-footer-username">John</div>
        <button class="sidebar-logout-btn" onclick="if(confirm('Are you sure you want to logout?')) window.location.href='02-parent-login.html'">
          Logout
        </button>
      </div>
    </nav>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Header -->
    <header class="app-header">
      <div class="container">
        <div class="header-content">
          <!-- Hamburger Menu Button -->
          <button class="hamburger-btn" id="hamburgerBtn" onclick="toggleSidebar()">
            <span class="hamburger-icon"></span>
          </button>

          <!-- Page Title (Centered) -->
          <h1 class="page-title">Transactions</h1>

          <!-- Spacer for alignment -->
          <div style="width: 44px;"></div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <div class="container">
        <!-- Child Tabs -->
        <div class="child-tabs">
          <div class="child-tab active" onclick="switchChild('emma')">
            <div class="child-tab-avatar">ü¶Ñ</div>
            <div class="child-tab-name">Emma</div>
          </div>
          <div class="child-tab" onclick="switchChild('noah')">
            <div class="child-tab-avatar">ü¶ñ</div>
            <div class="child-tab-name">Noah</div>
          </div>
        </div>

        <!-- Child Header -->
        <div class="child-header" id="childHeader">
      <div class="child-header-avatar">ü¶Ñ</div>
      <div class="child-header-info">
        <div class="child-header-name">Emma's Piggy Bank</div>
        <div class="child-header-label">Current Balance</div>
        <div class="child-header-balance">$125.50</div>
      </div>
      <div class="child-header-actions">
        <button class="btn btn-success" onclick="window.location.href='05-create-transaction.html?child=emma&type=deposit'">
          üí∞ Add Deposit
        </button>
        <button class="btn btn-danger" onclick="window.location.href='05-create-transaction.html?child=emma&type=deduction'">
          üì§ Make Deduction
        </button>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters">
      <div class="filter-group">
        <label class="form-label">Filter by Type</label>
        <select class="form-select">
          <option value="all">All Transactions</option>
          <option value="deposit">Deposits Only</option>
          <option value="deduction">Deductions Only</option>
        </select>
      </div>
      <div class="filter-group">
        <label class="form-label">Time Period</label>
        <select class="form-select">
          <option value="all">All Time</option>
          <option value="week">Last 7 Days</option>
          <option value="month">Last 30 Days</option>
          <option value="year">Last Year</option>
        </select>
      </div>
    </div>

    <!-- Transaction List -->
    <div class="transaction-list">
      <div class="transaction-list-header">
        <h2 class="transaction-list-title">Transaction History</h2>
        <div class="transaction-count">47 transactions</div>
      </div>

      <!-- Transaction Items -->
      <div class="transaction-item">
        <div class="transaction-icon deposit">üí∞</div>
        <div class="transaction-details">
          <div class="transaction-reason">Weekly allowance</div>
          <div class="transaction-meta">Today at 2:30 PM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deposit">+$10.00</div>
          <div class="transaction-balance">Balance: $125.50</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="transaction-icon deduction">üì§</div>
        <div class="transaction-details">
          <div class="transaction-reason">New toy from the store</div>
          <div class="transaction-meta">Yesterday at 4:15 PM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deduction">-$15.00</div>
          <div class="transaction-balance">Balance: $115.50</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="transaction-icon deposit">üí∞</div>
        <div class="transaction-details">
          <div class="transaction-reason">Completed all chores this week</div>
          <div class="transaction-meta">3 days ago at 6:00 PM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deposit">+$20.00</div>
          <div class="transaction-balance">Balance: $130.50</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="transaction-icon deposit">üí∞</div>
        <div class="transaction-details">
          <div class="transaction-reason">Birthday money from Grandma</div>
          <div class="transaction-meta">5 days ago at 10:30 AM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deposit">+$50.00</div>
          <div class="transaction-balance">Balance: $110.50</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="transaction-icon deduction">üì§</div>
        <div class="transaction-details">
          <div class="transaction-reason">Ice cream treat</div>
          <div class="transaction-meta">1 week ago at 3:45 PM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deduction">-$5.00</div>
          <div class="transaction-balance">Balance: $60.50</div>
        </div>
      </div>

      <div class="transaction-item">
        <div class="transaction-icon deposit">üí∞</div>
        <div class="transaction-details">
          <div class="transaction-reason">Weekly allowance</div>
          <div class="transaction-meta">1 week ago at 2:30 PM ‚Ä¢ Added by john_doe</div>
        </div>
        <div class="transaction-amount">
          <div class="transaction-amount-value deposit">+$10.00</div>
          <div class="transaction-balance">Balance: $65.50</div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="pagination">
        <button class="pagination-button" disabled>‚Üê Previous</button>
        <button class="pagination-button active">1</button>
        <button class="pagination-button">2</button>
        <button class="pagination-button">3</button>
        <button class="pagination-button">Next ‚Üí</button>
      </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      const hamburgerBtn = document.getElementById('hamburgerBtn');

      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
      hamburgerBtn.classList.toggle('active');
    }

    // Close sidebar when clicking overlay
    document.getElementById('sidebarOverlay').addEventListener('click', toggleSidebar);

    // Close sidebar when clicking a menu item
    document.querySelectorAll('.sidebar-menu-item').forEach(item => {
      item.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          toggleSidebar();
        }
      });
    });

    // Child data
    const childrenData = {
      emma: {
        avatar: 'ü¶Ñ',
        name: 'Emma',
        balance: '$125.50',
        totalEarned: '$250.00',
        transactionCount: 47
      },
      noah: {
        avatar: 'ü¶ñ',
        name: 'Noah',
        balance: '$42.00',
        totalEarned: '$85.00',
        transactionCount: 23
      }
    };

    // Switch child function
    function switchChild(childId) {
      const child = childrenData[childId];

      // Update active tab
      document.querySelectorAll('.child-tab').forEach(tab => tab.classList.remove('active'));
      event.target.closest('.child-tab').classList.add('active');

      // Update child header
      const header = document.getElementById('childHeader');
      header.querySelector('.child-header-avatar').textContent = child.avatar;
      header.querySelector('.child-header-name').textContent = `${child.name}'s Piggy Bank`;
      header.querySelector('.child-header-balance').textContent = child.balance;

      // Update transaction count
      document.querySelector('.transaction-count').textContent = `${child.transactionCount} transactions`;

      // In a real app, you would also filter/reload the transaction list here
      console.log(`Switched to ${child.name}'s transactions`);
    }
  </script>
</body>
</html>
